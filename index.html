<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—á—ë—Ç –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-rose-50 to-purple-50 min-h-screen">
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState } = React;

        function EmotionalBankAccount() {
            const [activeTab, setActiveTab] = useState('deposits');
            const [selectedItemsSelf, setSelectedItemsSelf] = useState([]);
            const [selectedItemsPartner, setSelectedItemsPartner] = useState([]);
            const [balanceSelf, setBalanceSelf] = useState(0);
            const [balancePartner, setBalancePartner] = useState(0);
            const [viewMode, setViewMode] = useState('self');

            const deposits = [
                { id: 'd1', action: "–°–∫–∞–∑–∞–ª –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç –±–µ–∑ –ø–æ–≤–æ–¥–∞", value: 5, category: "–í–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'd2', action: "–í—Å–ø–æ–º–Ω–∏–ª –≤–∞–∂–Ω—É—é –¥–µ—Ç–∞–ª—å –∏–∑ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –Ω–µ–¥–µ–ª—å–Ω–æ–π –¥–∞–≤–Ω–æ—Å—Ç–∏", value: 15, category: "–í–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'd3', action: "–°–ø—Ä–æ—Å–∏–ª '–ö–∞–∫ —Ç—ã?' –∏ –î–ï–ô–°–¢–í–ò–¢–ï–õ–¨–ù–û —Å–ª—É—à–∞–ª –æ—Ç–≤–µ—Ç", value: 15, category: "–í–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'd4', action: "–ó–∞–º–µ—Ç–∏–ª —á—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä —É—Å—Ç–∞–ª –∏ –ø—Ä–µ–¥–ª–æ–∂–∏–ª –ø–æ–º–æ—â—å", value: 15, category: "–í–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'd5', action: "–ó–∞–ø–æ–º–Ω–∏–ª —á—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä –ª—é–±–∏—Ç/–Ω–µ –ª—é–±–∏—Ç", value: 10, category: "–í–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'd6', action: "–°–ø—Ä–æ—Å–∏–ª –ø—Ä–æ –¥–µ–Ω—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏ —Å–ª—É—à–∞–ª –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞", value: 10, category: "–í–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'd7', action: "–ü–æ–º–æ–≥ –ø–æ –¥–æ–º—É –±–µ–∑ –ø—Ä–æ—Å—å–±—ã", value: 10, category: "–ó–∞–±–æ—Ç–∞" },
                { id: 'd8', action: "–°–¥–µ–ª–∞–ª —á—Ç–æ-—Ç–æ, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ (–Ω–µ –¥–ª—è —Å–µ–±—è)", value: 20, category: "–ó–∞–±–æ—Ç–∞" },
                { id: 'd9', action: "–£–¥–∏–≤–∏–ª –ø—Ä–∏—è—Ç–Ω–æ–π –º–µ–ª–æ—á—å—é", value: 10, category: "–ó–∞–±–æ—Ç–∞" },
                { id: 'd10', action: "–ü—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –µ–¥—É / –ø—Ä–∏–Ω—ë—Å –ª—é–±–∏–º–æ–µ –±–ª—é–¥–æ", value: 10, category: "–ó–∞–±–æ—Ç–∞" },
                { id: 'd11', action: "–ü–æ–∑–∞–±–æ—Ç–∏–ª—Å—è –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω—ë—Ä –±–æ–ª–µ–ª", value: 20, category: "–ó–∞–±–æ—Ç–∞" },
                { id: 'd12', action: "–í–∑—è–ª –Ω–∞ —Å–µ–±—è –Ω–µ–ø—Ä–∏—è—Ç–Ω—É—é –∑–∞–¥–∞—á—É —á—Ç–æ–±—ã —Ä–∞–∑–≥—Ä—É–∑–∏—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞", value: 15, category: "–ó–∞–±–æ—Ç–∞" },
                { id: 'd13', action: "–ü–æ–¥–¥–µ—Ä–∂–∞–ª –≤ —Ç—Ä—É–¥–Ω—ã–π –º–æ–º–µ–Ω—Ç", value: 20, category: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" },
                { id: 'd14', action: "–ü–æ–≤–µ—Ä–∏–ª –≤ –º–µ—á—Ç—É/—Ü–µ–ª—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ —Å–æ–º–Ω–µ–≤–∞–ª–∏—Å—å", value: 25, category: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" },
                { id: 'd15', action: "–ó–∞—â–∏—Ç–∏–ª –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –ø–µ—Ä–µ–¥ —Å–≤–æ–∏–º–∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏/–¥—Ä—É–∑—å—è–º–∏", value: 30, category: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" },
                { id: 'd16', action: "–°–∫–∞–∑–∞–ª '–Ø –≥–æ—Ä–∂—É—Å—å —Ç–æ–±–æ–π' –∏—Å–∫—Ä–µ–Ω–Ω–µ", value: 15, category: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" },
                { id: 'd17', action: "–í—ã—Å–ª—É—à–∞–ª –±–µ–∑ —Å–æ–≤–µ—Ç–æ–≤ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–≥–æ–≤–æ—Ä–∏—Ç—å—Å—è", value: 15, category: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞" },
                { id: 'd18', action: "–û—Ç–ª–æ–∂–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∫–ª—é—á–∏–ª—Å—è –≤ —Ä–∞–∑–≥–æ–≤–æ—Ä", value: 10, category: "–£–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'd19', action: "–ò–∑–≤–∏–Ω–∏–ª—Å—è –∏—Å–∫—Ä–µ–Ω–Ω–µ, –±–µ–∑ '–Ω–æ'", value: 15, category: "–£–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'd20', action: "–ü—Ä–∏–∑–Ω–∞–ª —Å–≤–æ—é –æ—à–∏–±–∫—É –ø–µ—Ä–≤—ã–º", value: 20, category: "–£–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'd21', action: "–°–ø—Ä–æ—Å–∏–ª –º–Ω–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –ø–æ –≤–∞–∂–Ω–æ–º—É –≤–æ–ø—Ä–æ—Å—É", value: 10, category: "–£–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'd22', action: "–ü–æ–¥–¥–µ—Ä–∂–∞–ª —Ä–µ—à–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –¥–∞–∂–µ –µ—Å–ª–∏ –¥—É–º–∞–µ—à—å –∏–Ω–∞—á–µ", value: 15, category: "–£–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'd23', action: "–ó–∞—â–∏—Ç–∏–ª –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö –ª—é–¥—è—Ö", value: 25, category: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" },
                { id: 'd24', action: "–í—Å—Ç–∞–ª –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—É –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ", value: 25, category: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" },
                { id: 'd25', action: "–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∞–ª —à—É—Ç–∫–∏ –¥—Ä—É–∑–µ–π –Ω–∞–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º", value: 20, category: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" },
                { id: 'd26', action: "–°–æ–∑–¥–∞–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Å–ª—ë–∑/—Å–ª–∞–±–æ—Å—Ç–∏", value: 20, category: "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å" },
                { id: 'd27', action: "–û–±–Ω—è–ª –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫, –∫–æ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏–ª –º–∏–º–æ", value: 5, category: "–ë–ª–∏–∑–æ—Å—Ç—å" },
                { id: 'd28', action: "–ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª –±–ª–∏–∑–æ—Å—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é", value: 15, category: "–ë–ª–∏–∑–æ—Å—Ç—å" },
                { id: 'd29', action: "–°–∫–∞–∑–∞–ª '–Ø –ª—é–±–ª—é —Ç–µ–±—è' –≤ –æ–±—ã—á–Ω—ã–π –¥–µ–Ω—å", value: 10, category: "–ë–ª–∏–∑–æ—Å—Ç—å" },
                { id: 'd30', action: "–ü–æ–¥–µ–ª–∏–ª—Å—è —Å–≤–æ–∏–º–∏ —Å—Ç—Ä–∞—Ö–∞–º–∏/–ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è–º–∏", value: 20, category: "–ë–ª–∏–∑–æ—Å—Ç—å" },
                { id: 'd31', action: "–°–ø—Ä–æ—Å–∏–ª —á—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä—É –Ω—É–∂–Ω–æ –¥–ª—è —Å—á–∞—Å—Ç—å—è –∏ —Ä–µ–∞–ª—å–Ω–æ —É—Å–ª—ã—à–∞–ª", value: 20, category: "–ë–ª–∏–∑–æ—Å—Ç—å" },
                { id: 'd32', action: "–û—Ç–º–µ–Ω–∏–ª —Å–≤–æ–∏ –ø–ª–∞–Ω—ã, –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—É –±—ã–ª–æ –ø–ª–æ—Ö–æ", value: 25, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç" },
                { id: 'd33', action: "–í—ã–±—Ä–∞–ª –ø—Ä–æ–≤–µ—Å—Ç–∏ –≤—Ä–µ–º—è —Å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º –≤–º–µ—Å—Ç–æ –¥—Ä—É–∑–µ–π", value: 15, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç" },
                { id: 'd34', action: "–ü—Ä–∏—à—ë–ª –Ω–∞ –≤–∞–∂–Ω–æ–µ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Å–æ–±—ã—Ç–∏–µ", value: 20, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç" },
                { id: 'd35', action: "–û—Ç–≤–µ—Ç–∏–ª –Ω–∞ –∑–≤–æ–Ω–æ–∫ –¥–∞–∂–µ –∫–æ–≥–¥–∞ –±—ã–ª –∑–∞–Ω—è—Ç", value: 10, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç" },
                { id: 'd36', action: "–ü—Ä–µ–¥–ª–æ–∂–∏–ª –≤–º–µ—Å—Ç–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ", value: 15, category: "–†–æ—Å—Ç" },
                { id: 'd37', action: "–ü–æ–¥–¥–µ—Ä–∂–∞–ª —Ö–æ–±–±–∏/—É–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞", value: 10, category: "–†–æ—Å—Ç" },
                { id: 'd38', action: "–û–±—Å—É–¥–∏–ª–∏ –ø–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ –∏ –≤—ã –Ω–∞ –æ–¥–Ω–æ–π –≤–æ–ª–Ω–µ", value: 20, category: "–†–æ—Å—Ç" },
                { id: 'd39', action: "–ü—Ä–∏–∑–Ω–∞–ª —á—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –∏ –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —ç—Ç–∏–º", value: 25, category: "–†–æ—Å—Ç" },
            ];

            const withdrawals = [
                { id: 'w1', action: "–ó–∞–±—ã–ª –æ –≤–∞–∂–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏/–¥–∞—Ç–µ", value: -20, category: "–ù–µ–≤–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'w2', action: "–°–∫—Ä–æ–ª–ª–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞", value: -15, category: "–ò–≥–Ω–æ—Ä" },
                { id: 'w3', action: "–ù–µ –∑–∞–º–µ—Ç–∏–ª —á—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω", value: -10, category: "–ù–µ–≤–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'w4', action: "–ó–∞–±—ã–ª —á—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –∏ –ø–µ—Ä–µ—Å–ø—Ä–æ—Å–∏–ª", value: -10, category: "–ù–µ–≤–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'w5', action: "–ù–µ —Å–ø—Ä–æ—Å–∏–ª –∫–∞–∫ –ø—Ä–æ—à–ª–æ –≤–∞–∂–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ", value: -15, category: "–ù–µ–≤–Ω–∏–º–∞–Ω–∏–µ" },
                { id: 'w6', action: "–ü—Ä–∏—à—ë–ª –¥–æ–º–æ–π –∏ –Ω–µ –ø–æ–∑–¥–æ—Ä–æ–≤–∞–ª—Å—è / –Ω–µ –æ–±–Ω—è–ª", value: -10, category: "–ò–≥–Ω–æ—Ä" },
                { id: 'w7', action: "–ò–≥—Ä–∞–ª –≤ –∏–≥—Ä—ã / —Å–º–æ—Ç—Ä–µ–ª —Å–µ—Ä–∏–∞–ª –≤–º–µ—Å—Ç–æ –æ–±—â–µ–Ω–∏—è", value: -15, category: "–ò–≥–Ω–æ—Ä" },
                { id: 'w8', action: "–û–±–µ—Å—Ü–µ–Ω–∏–ª —á—É–≤—Å—Ç–≤–∞: '–¢—ã –ø—Ä–µ—É–≤–µ–ª–∏—á–∏–≤–∞–µ—à—å'", value: -25, category: "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ" },
                { id: 'w9', action: "–í—ã—Å–º–µ—è–ª —Ç–æ, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞", value: -30, category: "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ" },
                { id: 'w10', action: "–°–∫–∞–∑–∞–ª '–ü–æ–¥—É–º–∞–µ—à—å, —É –¥—Ä—É–≥–∏—Ö —Ö—É–∂–µ'", value: -20, category: "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ" },
                { id: 'w11', action: "–ù–µ –ø–æ—Ö–≤–∞–ª–∏–ª –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω—ë—Ä —Å—Ç–∞—Ä–∞–ª—Å—è", value: -15, category: "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ" },
                { id: 'w12', action: "–û–±–µ—Å—Ü–µ–Ω–∏–ª —Ä–∞–±–æ—Ç—É/—Ö–æ–±–±–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞: '–≠—Ç–æ –Ω–µ—Å–µ—Ä—å—ë–∑–Ω–æ'", value: -25, category: "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ" },
                { id: 'w13', action: "–°—Ç–∞–ª –ª–µ–∑—Ç—å —Å —Å–æ–≤–µ—Ç–∞–º–∏ –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ –≤—ã—Å–ª—É—à–∞—Ç—å", value: -15, category: "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ" },
                { id: 'w14', action: "–ö—Ä–∏—Ç–∏–∫–æ–≤–∞–ª –ø—Ä–∏ –¥—Ä—É–≥–∏—Ö –ª—é–¥—è—Ö", value: -30, category: "–£–Ω–∏–∂–µ–Ω–∏–µ" },
                { id: 'w15', action: "–°—Ä–∞–≤–Ω–∏–ª —Å –±—ã–≤—à–∏–º/–¥—Ä—É–≥–∏–º–∏", value: -35, category: "–£–Ω–∏–∂–µ–Ω–∏–µ" },
                { id: 'w16', action: "–†–∞—Å—Å–∫–∞–∑–∞–ª –ª–∏—á–Ω–æ–µ –¥—Ä—É–≥–∏–º –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è", value: -30, category: "–£–Ω–∏–∂–µ–Ω–∏–µ" },
                { id: 'w17', action: "–ü–æ–¥–¥–µ—Ä–∂–∞–ª —à—É—Ç–∫–∏ –¥—Ä—É–∑–µ–π –Ω–∞–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º", value: -25, category: "–£–Ω–∏–∂–µ–Ω–∏–µ" },
                { id: 'w18', action: "–£–∫–∞–∑–∞–ª –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏", value: -25, category: "–£–Ω–∏–∂–µ–Ω–∏–µ" },
                { id: 'w19', action: "–°–æ—Ä–≤–∞–ª—Å—è –Ω–∞ –∫—Ä–∏–∫ –∏–∑-–∑–∞ —É—Å—Ç–∞–ª–æ—Å—Ç–∏", value: -20, category: "–ê–≥—Ä–µ—Å—Å–∏—è" },
                { id: 'w20', action: "–•–ª–æ–ø–Ω—É–ª –¥–≤–µ—Ä—å—é –≤–æ –≤—Ä–µ–º—è —Å—Å–æ—Ä—ã", value: -20, category: "–ê–≥—Ä–µ—Å—Å–∏—è" },
                { id: 'w21', action: "–°–∫–∞–∑–∞–ª —á—Ç–æ-—Ç–æ –æ–±–∏–¥–Ω–æ–µ –≤ –≥–Ω–µ–≤–µ", value: -25, category: "–ê–≥—Ä–µ—Å—Å–∏—è" },
                { id: 'w22', action: "–ü–µ—Ä–µ—à—ë–ª –Ω–∞ –ª–∏—á–Ω–æ—Å—Ç–∏ –≤ —Å–ø–æ—Ä–µ", value: -30, category: "–ê–≥—Ä–µ—Å—Å–∏—è" },
                { id: 'w23', action: "–ú–æ–ª—á–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –ø–æ—Å–ª–µ —Å—Å–æ—Ä—ã (–∏–≥–Ω–æ—Ä)", value: -25, category: "–ê–≥—Ä–µ—Å—Å–∏—è" },
                { id: 'w24', action: "–ù–∞—Ä—É—à–∏–ª –æ–±–µ—â–∞–Ω–∏–µ", value: -30, category: "–ù–µ–¥–æ–≤–µ—Ä–∏–µ" },
                { id: 'w25', action: "–°–æ–≤—Ä–∞–ª –¥–∞–∂–µ –ø–æ –º–µ–ª–æ—á–∏", value: -25, category: "–ù–µ–¥–æ–≤–µ—Ä–∏–µ" },
                { id: 'w26', action: "–°–∫—Ä—ã–ª –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é", value: -30, category: "–ù–µ–¥–æ–≤–µ—Ä–∏–µ" },
                { id: 'w27', action: "–ü—Ä–æ–≤–µ—Ä—è–ª —Ç–µ–ª–µ—Ñ–æ–Ω –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è", value: -35, category: "–ù–µ–¥–æ–≤–µ—Ä–∏–µ" },
                { id: 'w28', action: "–ù–µ —Ä–∞—Å—Å–∫–∞–∑–∞–ª –≥–¥–µ –±—ã–ª / —Å –∫–µ–º", value: -20, category: "–ù–µ–¥–æ–≤–µ—Ä–∏–µ" },
                { id: 'w29', action: "–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∞–ª –∫–æ–≥–¥–∞ –±—ã–ª–æ —Ç—Ä—É–¥–Ω–æ", value: -25, category: "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ" },
                { id: 'w30', action: "–ù–µ –∑–∞—â–∏—Ç–∏–ª –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏", value: -30, category: "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ" },
                { id: 'w31', action: "–í—ã–±—Ä–∞–ª –¥—Ä—É–∑–µ–π –≤–º–µ—Å—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç", value: -25, category: "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ" },
                { id: 'w32', action: "–°–æ–≥–ª–∞—Å–∏–ª—Å—è —Å –∫—Ä–∏—Ç–∏–∫–æ–π –≤ –∞–¥—Ä–µ—Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö", value: -25, category: "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ" },
                { id: 'w33', action: "–ó–∞–±—ã–ª —Å–∫–∞–∑–∞—Ç—å –∫—É–¥–∞ —É—à—ë–ª / –æ–ø–æ–∑–¥–∞–ª –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è", value: -15, category: "–ù–µ—É–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'w34', action: "–ü—Ä–∏–Ω—è–ª –≤–∞–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –±–µ–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è", value: -25, category: "–ù–µ—É–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'w35', action: "–ü–µ—Ä–µ–±–∏–≤–∞–ª –∫–æ–≥–¥–∞ –ø–∞—Ä—Ç–Ω—ë—Ä –≥–æ–≤–æ—Ä–∏–ª", value: -10, category: "–ù–µ—É–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'w36', action: "–û—Ç–º–µ–Ω–∏–ª —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–º–µ–Ω—Ç", value: -20, category: "–ù–µ—É–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'w37', action: "–ù–µ —É–±—Ä–∞–ª –∑–∞ —Å–æ–±–æ–π —Ö–æ—Ç—è –æ–±–µ—â–∞–ª", value: -10, category: "–ù–µ—É–≤–∞–∂–µ–Ω–∏–µ" },
                { id: 'w38', action: "–°–∫–∞–∑–∞–ª '–Ø –∂–µ –∏–∑–≤–∏–Ω–∏–ª—Å—è!' –≤–º–µ—Å—Ç–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è", value: -20, category: "–ó–∞—â–∏—Ç–∞" },
                { id: 'w39', action: "–ù–µ –∏–∑–≤–∏–Ω–∏–ª—Å—è —Ö–æ—Ç—è –±—ã–ª –Ω–µ–ø—Ä–∞–≤", value: -25, category: "–ó–∞—â–∏—Ç–∞" },
                { id: 'w40', action: "–ò–∑–≤–∏–Ω–∏–ª—Å—è –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏–ª –¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ", value: -30, category: "–ó–∞—â–∏—Ç–∞" },
                { id: 'w41', action: "–û–±–≤–∏–Ω–∏–ª –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ —Å–≤–æ–∏—Ö –æ—à–∏–±–∫–∞—Ö", value: -25, category: "–ó–∞—â–∏—Ç–∞" },
                { id: 'w42', action: "–í—ã–±—Ä–∞–ª —Ä–∞–±–æ—Ç—É/–∏–≥—Ä—ã –≤–º–µ—Å—Ç–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –≤ —Ç—Ä—É–¥–Ω—ã–π –º–æ–º–µ–Ω—Ç", value: -25, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã" },
                { id: 'w43', action: "–ù–µ –ø—Ä–∏—à—ë–ª –Ω–∞ –≤–∞–∂–Ω–æ–µ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Å–æ–±—ã—Ç–∏–µ", value: -30, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã" },
                { id: 'w44', action: "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—à—å —Å–æ–≤–º–µ—Å—Ç–Ω—ã–µ –ø–ª–∞–Ω—ã", value: -20, category: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã" },
            ];

            const getCategoryRecommendation = (category) => {
                const recommendations = {
                    "–ù–µ–≤–Ω–∏–º–∞–Ω–∏–µ": {
                        problem: "–¢—ã –Ω–µ –∑–∞–º–µ—á–∞–µ—à—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
                        solution: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å '–ö–∞–∫ —Ç—ã?' –∏ –°–õ–£–®–ê–ô –æ—Ç–≤–µ—Ç 2 –º–∏–Ω—É—Ç—ã –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –°—Ç–∞–≤—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –µ—Å–ª–∏ –∑–∞–±—ã–≤–∞–µ—à—å –ø—Ä–æ –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã."
                    },
                    "–ò–≥–Ω–æ—Ä": {
                        problem: "–¢—ã –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—à—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
                        solution: "–ü—Ä–∞–≤–∏–ª–æ: –ø–µ—Ä–≤—ã–µ 15 –º–∏–Ω—É—Ç –¥–æ–º–∞ - –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ü–æ–∑–¥–æ—Ä–æ–≤–∞–ª—Å—è, –æ–±–Ω—è–ª, —Å–ø—Ä–æ—Å–∏–ª –ø—Ä–æ –¥–µ–Ω—å. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Å–æ—Ü—Å–µ—Ç–∏."
                    },
                    "–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ": {
                        problem: "–¢—ã –æ–±–µ—Å—Ü–µ–Ω–∏–≤–∞–µ—à—å —á—É–≤—Å—Ç–≤–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
                        solution: "–ó–∞–ø—Ä–µ—Ç–∏ —Å–µ–±–µ —Ñ—Ä–∞–∑—ã '—ç—Ç–æ –µ—Ä—É–Ω–¥–∞', '–Ω–µ –ø—Ä–µ—É–≤–µ–ª–∏—á–∏–≤–∞–π', '—É –¥—Ä—É–≥–∏—Ö —Ö—É–∂–µ'. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ: '–†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ, —è —Ö–æ—á—É –ø–æ–Ω—è—Ç—å'."
                    },
                    "–£–Ω–∏–∂–µ–Ω–∏–µ": {
                        problem: "–¢—ã —É–Ω–∏–∂–∞–µ—à—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
                        solution: "–ù–ò–ö–û–ì–î–ê –Ω–µ –∫—Ä–∏—Ç–∏–∫—É–π –ø—Ä–∏ –ª—é–¥—è—Ö. –ù–ò–ö–û–ì–î–ê –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å –¥—Ä—É–≥–∏–º–∏. –•–≤–∞–ª–∏ –ø—É–±–ª–∏—á–Ω–æ, –∫—Ä–∏—Ç–∏–∫—É–π –Ω–∞–µ–¥–∏–Ω–µ –∏ –º—è–≥–∫–æ."
                    },
                    "–ê–≥—Ä–µ—Å—Å–∏—è": {
                        problem: "–¢—ã —Å—Ä—ã–≤–∞–µ—à—å—Å—è –Ω–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
                        solution: "–ö–æ–≥–¥–∞ —á—É–≤—Å—Ç–≤—É–µ—à—å —á—Ç–æ –∑–∞–∫–∏–ø–∞–µ—à—å - —Å–∫–∞–∂–∏ '–ú–Ω–µ –Ω—É–∂–Ω–æ 10 –º–∏–Ω—É—Ç' –∏ –≤—ã–π–¥–∏. –ö—Ä–∏–∫ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–µ—à–∞–µ—Ç, —Ç–æ–ª—å–∫–æ –ª–æ–º–∞–µ—Ç –¥–æ–≤–µ—Ä–∏–µ."
                    },
                    "–ù–µ–¥–æ–≤–µ—Ä–∏–µ": {
                        problem: "–¢—ã —Ä–∞–∑—Ä—É—à–∞–µ—à—å –¥–æ–≤–µ—Ä–∏–µ",
                        solution: "–ü–µ—Ä–µ—Å—Ç–∞–Ω—å –≤—Ä–∞—Ç—å –¥–∞–∂–µ –ø–æ –º–µ–ª–æ—á–∞–º. –î–µ–ª–∞–π —á—Ç–æ –æ–±–µ—â–∞–µ—à—å. –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—à—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å - –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏ –∑–∞—Ä–∞–Ω–µ–µ, –Ω–µ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–º–µ–Ω—Ç."
                    },
                    "–ü—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ": {
                        problem: "–¢—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ",
                        solution: "–ü–∞—Ä—Ç–Ω—ë—Ä –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å —á—Ç–æ —Ç—ã –Ω–∞ –µ–≥–æ —Å—Ç–æ—Ä–æ–Ω–µ. –ó–∞—â–∏—â–∞–π –µ–≥–æ –ø–µ—Ä–µ–¥ –¥—Ä—É–≥–∏–º–∏. –í—ã–±–∏—Ä–∞–π –µ–≥–æ –∫–æ–≥–¥–∞ –µ–º—É –ø–ª–æ—Ö–æ, –Ω–µ –¥—Ä—É–∑–µ–π."
                    },
                    "–ù–µ—É–≤–∞–∂–µ–Ω–∏–µ": {
                        problem: "–¢—ã –Ω–µ —É–≤–∞–∂–∞–µ—à—å –ø–∞—Ä—Ç–Ω—ë—Ä–∞",
                        solution: "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–π –µ—Å–ª–∏ –æ–ø–∞–∑–¥—ã–≤–∞–µ—à—å/–º–µ–Ω—è–µ—à—å –ø–ª–∞–Ω—ã. –°–ø—Ä–∞—à–∏–≤–∞–π –º–Ω–µ–Ω–∏–µ –ø–æ –≤–∞–∂–Ω—ã–º —Ä–µ—à–µ–Ω–∏—è–º. –î–µ–ª–∞–π —á—Ç–æ –æ–±–µ—â–∞–ª."
                    },
                    "–ó–∞—â–∏—Ç–∞": {
                        problem: "–¢—ã –Ω–µ —É–º–µ–µ—à—å –∏–∑–≤–∏–Ω—è—Ç—å—Å—è",
                        solution: "–ò–∑–≤–∏–Ω–µ–Ω–∏–µ = '–ü—Ä–æ—Å—Ç–∏ –∑–∞ [–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ]. –Ø –ø–æ–Ω–∏–º–∞—é —á—Ç–æ —Ç–µ–±–µ –±—ã–ª–æ [—á—É–≤—Å—Ç–≤–æ]. –ë–æ–ª—å—à–µ –Ω–µ –±—É–¥—É.' –ë–µ–∑ '–Ω–æ' –∏ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π."
                    },
                    "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã": {
                        problem: "–ü–∞—Ä—Ç–Ω—ë—Ä –Ω–µ –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ",
                        solution: "–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é - –≤—Ä–µ–º—è —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å –¥–≤–æ–∏—Ö. –ë–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –±–µ–∑ –¥—Ä—É–∑–µ–π. –ï—Å–ª–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—É –ø–ª–æ—Ö–æ - —Ç–≤–æ–∏ –ø–ª–∞–Ω—ã –ø–æ–¥–æ–∂–¥—É—Ç."
                    }
                };

                return recommendations[category] || {
                    problem: "–ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö",
                    solution: "–ü–æ–≥–æ–≤–æ—Ä–∏ —Å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–æ –æ —Ç–æ–º, —á—Ç–æ –Ω–µ —Ç–∞–∫."
                };
            };

            const getWorstCategory = (selectedItems) => {
                const withdrawalScores = {};
                
                withdrawals.forEach(item => {
                    if (selectedItems.includes(item.id)) {
                        if (!withdrawalScores[item.category]) {
                            withdrawalScores[item.category] = { total: 0, count: 0 };
                        }
                        withdrawalScores[item.category].total += item.value;
                        withdrawalScores[item.category].count += 1;
                    }
                });

                let worstCategory = null;
                let worstScore = 0;
                let worstCount = 0;

                Object.entries(withdrawalScores).forEach(([category, data]) => {
                    if (data.total < worstScore) {
                        worstScore = data.total;
                        worstCategory = category;
                        worstCount = data.count;
                    }
                });

                return { category: worstCategory, score: worstScore, count: worstCount };
            };

            const handleItemClick = (item) => {
                const selectedItems = viewMode === 'self' ? selectedItemsSelf : selectedItemsPartner;
                const setSelectedItems = viewMode === 'self' ? setSelectedItemsSelf : setSelectedItemsPartner;
                const balance = viewMode === 'self' ? balanceSelf : balancePartner;
                const setBalance = viewMode === 'self' ? setBalanceSelf : setBalancePartner;

                if (selectedItems.includes(item.id)) {
                    setSelectedItems(selectedItems.filter(id => id !== item.id));
                    setBalance(balance - item.value);
                } else {
                    setSelectedItems([...selectedItems, item.id]);
                    setBalance(balance + item.value);
                }
            };

            const resetBalance = () => {
                if (viewMode === 'self') {
                    setSelectedItemsSelf([]);
                    setBalanceSelf(0);
                } else {
                    setSelectedItemsPartner([]);
                    setBalancePartner(0);
                }
            };

            const switchMode = () => {
                setViewMode(viewMode === 'self' ? 'partner' : 'self');
            };

            const getBalanceColor = (balance) => {
                if (balance > 50) return 'text-green-600';
                if (balance > 0) return 'text-green-500';
                if (balance === 0) return 'text-gray-600';
                if (balance > -50) return 'text-orange-500';
                return 'text-red-600';
            };

            const getHeartEmoji = (balance) => {
                if (balance > 50) return '‚ù§Ô∏è';
                if (balance > 20) return 'üíï';
                if (balance > 0) return 'üíó';
                if (balance === 0) return 'ü§ç';
                if (balance > -30) return 'üíî';
                return 'üñ§';
            };

            const getBalanceMessage = (balance) => {
                if (balance > 50) return 'üî• –û—Ç–Ω–æ—à–µ–Ω–∏—è –ø—Ä–æ—Ü–≤–µ—Ç–∞—é—Ç!';
                if (balance > 20) return '‚úÖ –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å';
                if (balance > 0) return 'üëç –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å';
                if (balance === 0) return '‚öñÔ∏è –ù–æ–ª—å. –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞!';
                if (balance > -30) return '‚ö†Ô∏è –í –º–∏–Ω—É—Å–µ. –°—Ä–æ—á–Ω–æ –ø–æ–ø–æ–ª–Ω—è–π!';
                return 'üö® –ë–ê–ù–ö–†–û–¢! –û—Ç–Ω–æ—à–µ–Ω–∏—è –≤ –∫—Ä–∏–∑–∏—Å–µ!';
            };

            const currentBalance = viewMode === 'self' ? balanceSelf : balancePartner;
            const currentSelectedItems = viewMode === 'self' ? selectedItemsSelf : selectedItemsPartner;
            const currentItems = activeTab === 'deposits' ? deposits : withdrawals;

            return (
                <div className="p-4 md:p-8">
                    <div className="max-w-5xl mx-auto">
                        <div className="text-center mb-8">
                            <h1 className="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
                                –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—á—ë—Ç –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö
                            </h1>
                            
                            <div className="bg-purple-100 rounded-xl p-5 md:p-6 mb-6 max-w-3xl mx-auto text-left">
                                <p className="text-gray-700 text-sm md:text-base mb-3">
                                    üí° <strong>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong>
                                </p>
                                <ol className="text-gray-700 text-sm md:text-base space-y-2 list-decimal list-inside">
                                    <li>–ó–∞–ø–æ–ª–Ω–∏ <strong>"–û—Ü–µ–Ω–∏–≤–∞—é —Å–µ–±—è"</strong> - –æ—Ç–º–µ—á–∞–π —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞ –º–µ—Å—è—Ü</li>
                                    <li>–ü–µ—Ä–µ–∫–ª—é—á–∏—Å—å –Ω–∞ <strong>"–û—Ü–µ–Ω–∏–≤–∞—é –ø–∞—Ä—Ç–Ω—ë—Ä–∞"</strong> - –æ—Ç–º–µ—á–∞–π –µ–≥–æ/–µ—ë –¥–µ–π—Å—Ç–≤–∏—è</li>
                                    <li>–ü–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤ <strong>—Å–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è –æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞</strong> —Å –≤–∞—à–∏–º–∏ –±–∞–ª–∞–Ω—Å–∞–º–∏</li>
                                    <li>–ü–æ–ø—Ä–æ—Å–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Å–¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!</li>
                                </ol>
                                <p className="text-gray-700 text-sm md:text-base mt-3">
                                    üéØ <strong>–û–±—Ä–∞—Ç–∏ –≤–Ω–∏–º–∞–Ω–∏–µ:</strong> –ï—Å–ª–∏ –º–Ω–æ–≥–æ –º–∏–Ω—É—Å–æ–≤ –≤ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - —ç—Ç–æ —Ç–≤–æ—è —Ç–æ—á–∫–∞ —Ä–æ—Å—Ç–∞!
                                </p>
                            </div>
                            
                            <div className="flex justify-center gap-3 mb-6">
                                <button
                                    onClick={switchMode}
                                    className={`px-6 py-3 rounded-xl font-semibold transition-all ${
                                        viewMode === 'self'
                                            ? 'bg-blue-500 text-white shadow-lg'
                                            : 'bg-gray-200 text-gray-600 hover:bg-gray-300'
                                    }`}
                                >
                                    üìù –û—Ü–µ–Ω–∏–≤–∞—é —Å–µ–±—è
                                </button>
                                <button
                                    onClick={switchMode}
                                    className={`px-6 py-3 rounded-xl font-semibold transition-all ${
                                        viewMode === 'partner'
                                            ? 'bg-pink-500 text-white shadow-lg'
                                            : 'bg-gray-200 text-gray-600 hover:bg-gray-300'
                                    }`}
                                >
                                    üë§ –û—Ü–µ–Ω–∏–≤–∞—é –ø–∞—Ä—Ç–Ω—ë—Ä–∞
                                </button>
                            </div>

                            <p className="text-base md:text-lg text-gray-600 max-w-2xl mx-auto">
                                {viewMode === 'self' 
                                    ? '–û—Ç–º–µ—á–∞–π –¥–µ–π—Å—Ç–≤–∏—è –∫–æ—Ç–æ—Ä—ã–µ –¢–´ —Å–æ–≤–µ—Ä—à–∞–ª –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü'
                                    : '–û—Ç–º–µ—á–∞–π –¥–µ–π—Å—Ç–≤–∏—è –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–≤–µ—Ä—à–∞–ª –¢–í–û–ô –ü–ê–†–¢–ù–Å–† –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü'
                                }
                            </p>
                        </div>

                        <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-8 border-4 border-purple-200">
                            <div className="text-center">
                                <div className="text-6xl md:text-8xl mb-4 transition-all duration-300">
                                    {getHeartEmoji(currentBalance)}
                                </div>
                                <p className="text-sm text-gray-500 mb-2">
                                    {viewMode === 'self' ? '–ú–û–ô –ë–ê–õ–ê–ù–° –ó–ê –ú–ï–°–Ø–¶' : '–ë–ê–õ–ê–ù–° –ü–ê–†–¢–ù–Å–†–ê –ó–ê –ú–ï–°–Ø–¶'}
                                </p>
                                <p className={`text-5xl md:text-6xl font-bold ${getBalanceColor(currentBalance)} transition-all duration-300`}>
                                    {currentBalance > 0 ? '+' : ''}{currentBalance}
                                </p>
                                <p className="text-lg md:text-xl font-semibold text-gray-700 mt-3">
                                    {getBalanceMessage(currentBalance)}
                                </p>
                                <button
                                    onClick={resetBalance}
                                    className="mt-4 px-6 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg font-medium text-gray-700 transition-colors"
                                >
                                    üîÑ –°–±—Ä–æ—Å–∏—Ç—å
                                </button>
                            </div>
                        </div>

                        <div className="flex gap-4 mb-6">
                            <button
                                onClick={() => setActiveTab('deposits')}
                                className={`flex-1 py-3 md:py-4 px-4 md:px-6 rounded-xl font-semibold transition-all ${
                                    activeTab === 'deposits'
                                        ? 'bg-green-500 text-white shadow-lg scale-105'
                                        : 'bg-white text-gray-600 hover:bg-gray-50'
                                }`}
                            >
                                ‚ûï –ü–æ–ø–æ–ª–Ω–µ–Ω–∏—è
                            </button>
                            <button
                                onClick={() => setActiveTab('withdrawals')}
                                className={`flex-1 py-3 md:py-4 px-4 md:px-6 rounded-xl font-semibold transition-all ${
                                    activeTab === 'withdrawals'
                                        ? 'bg-red-500 text-white shadow-lg scale-105'
                                        : 'bg-white text-gray-600 hover:bg-gray-50'
                                }`}
                            >
                                ‚ûñ –°–Ω—è—Ç–∏—è
                            </button>
                        </div>

                        <div className="grid gap-3 md:gap-4">
                            {currentItems.map((item) => {
                                const isSelected = currentSelectedItems.includes(item.id);
                                return (
                                    <div
                                        key={item.id}
                                        onClick={() => handleItemClick(item)}
                                        className={`bg-white rounded-xl p-4 md:p-5 cursor-pointer transition-all duration-200 border-2 ${
                                            isSelected
                                                ? activeTab === 'deposits'
                                                    ? 'border-green-500 bg-green-50 shadow-lg'
                                                    : 'border-red-500 bg-red-50 shadow-lg'
                                                : 'border-gray-200 hover:border-gray-300 hover:shadow-md'
                                        }`}
                                    >
                                        <div className="flex items-start justify-between gap-4">
                                            <div className="flex-1">
                                                <p className="text-gray-800 font-medium text-base md:text-lg mb-2">
                                                    {item.action}
                                                </p>
                                                <span className={`inline-block px-3 py-1 rounded-full text-xs md:text-sm font-medium ${
                                                    activeTab === 'deposits' 
                                                        ? 'bg-green-100 text-green-700' 
                                                        : 'bg-red-100 text-red-700'
                                                }`}>
                                                    {item.category}
                                                </span>
                                            </div>
                                            <div className="flex flex-col items-center gap-2">
                                                <span className={`text-2xl md:text-3xl font-bold ${
                                                    activeTab === 'deposits' ? 'text-green-600' : 'text-red-600'
                                                }`}>
                                                    {item.value > 0 ? '+' : ''}{item.value}
                                                </span>
                                                {isSelected && (
                                                    <span className="text-xs bg-purple-500 text-white px-2 py-1 rounded-full">
                                                        ‚úì –í—ã–±—Ä–∞–Ω–æ
                                                    </span>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Summary Section */}
                        {(selectedItemsSelf.length > 0 || selectedItemsPartner.length > 0) && (
                            <div className="mt-8 space-y-4">
                                
                                {/* Combined Summary */}
                                {selectedItemsSelf.length > 0 && selectedItemsPartner.length > 0 && (
                                    <div className="bg-gradient-to-r from-blue-50 to-pink-50 rounded-xl p-6 shadow-lg border-2 border-purple-400">
                                        <h3 className="text-2xl font-bold text-gray-800 mb-4 text-center">
                                            üìä –û–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
                                        </h3>
                                        <div className="grid md:grid-cols-2 gap-4">
                                            <div className="bg-white rounded-lg p-4 border-2 border-blue-300">
                                                <p className="text-sm text-gray-600 mb-1">–¢–≤–æ–π –≤–∫–ª–∞–¥</p>
                                                <p className={`text-4xl font-bold ${getBalanceColor(balanceSelf)}`}>
                                                    {balanceSelf > 0 ? '+' : ''}{balanceSelf}
                                                </p>
                                            </div>
                                            <div className="bg-white rounded-lg p-4 border-2 border-pink-300">
                                                <p className="text-sm text-gray-600 mb-1">–í–∫–ª–∞–¥ –ø–∞—Ä—Ç–Ω—ë—Ä–∞</p>
                                                <p className={`text-4xl font-bold ${getBalanceColor(balancePartner)}`}>
                                                    {balancePartner > 0 ? '+' : ''}{balancePartner}
                                                </p>
                                            </div>
                                        </div>
                                        <div className="mt-4 text-center">
                                            <p className="text-lg font-semibold text-gray-700">
                                                –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –æ—Ç–Ω–æ—à–µ–Ω–∏–π: 
                                                <span className={`ml-2 text-2xl ${getBalanceColor(balanceSelf + balancePartner)}`}>
                                                    {(balanceSelf + balancePartner) > 0 ? '+' : ''}{balanceSelf + balancePartner}
                                                </span>
                                            </p>
                                            <p className="text-sm text-gray-600 mt-2">
                                                {balanceSelf + balancePartner > 50 
                                                    ? 'üí™ –í—ã –æ–±–∞ –≤–∫–ª–∞–¥—ã–≤–∞–µ—Ç–µ—Å—å - —Ç–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!'
                                                    : balanceSelf + balancePartner > 0
                                                    ? 'üëç –ù–µ–ø–ª–æ—Ö–æ, –Ω–æ –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏'
                                                    : balanceSelf + balancePartner === 0
                                                    ? '‚ö†Ô∏è –ù–∞ –≥—Ä–∞–Ω–∏. –û–±–æ–∏–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É—Å–∏–ª–∏–π'
                                                    : 'üö® –ö—Ä–∏–∑–∏—Å. –ù—É–∂–µ–Ω —Å–µ—Ä—å—ë–∑–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è'
                                                }
                                            </p>
                                        </div>
                                    </div>
                                )}

                                {/* Individual Analysis for Self */}
                                {selectedItemsSelf.length > 0 && (() => {
                                    const worstSelf = getWorstCategory(selectedItemsSelf);
                                    return (
                                        <div>
                                            <div className="bg-white rounded-xl p-6 text-center shadow-lg border-2 border-blue-300">
                                                <p className="text-lg md:text-xl text-gray-700 font-semibold mb-2">
                                                    {balanceSelf > 0 
                                                        ? 'üëè –¢—ã –º–æ–ª–æ–¥–µ—Ü! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è'
                                                        : balanceSelf === 0
                                                        ? '‚ö†Ô∏è –¢—ã –Ω–∞ –Ω—É–ª–µ. –ü–æ—Ä–∞ –Ω–∞—á–∞—Ç—å –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è!'
                                                        : 'üö® –¢—ã —Ä–∞–∑—Ä—É—à–∞–µ—à—å –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –°—Ä–æ—á–Ω–æ –º–µ–Ω—è–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ!'
                                                    }
                                                </p>
                                            </div>
                                            
                                            {worstSelf.category && worstSelf.score < 0 && (() => {
                                                const recommendation = getCategoryRecommendation(worstSelf.category);
                                                return (
                                                    <div className="bg-red-50 rounded-xl p-6 shadow-lg border-2 border-red-300">
                                                        <h3 className="text-xl font-bold text-red-800 mb-3">
                                                            üéØ –¢–≤–æ—è –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: {worstSelf.category}
                                                        </h3>
                                                        <p className="text-red-700 font-semibold mb-2">
                                                            {worstSelf.count} {worstSelf.count === 1 ? '—Ä–∞–∑' : '—Ä–∞–∑–∞'} –∑–∞ –º–µ—Å—è—Ü | {worstSelf.score} –±–∞–ª–ª–æ–≤
                                                        </p>
                                                        <div className="bg-white rounded-lg p-4 mb-3">
                                                            <p className="text-gray-800 font-medium mb-2">
                                                                ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: {recommendation.problem}
                                                            </p>
                                                            <p className="text-gray-700">
                                                                ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å: {recommendation.solution}
                                                            </p>
                                                        </div>
                                                        <p className="text-sm text-red-600 italic">
                                                            –ù–µ –ø—ã—Ç–∞–π—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å—ë —Å—Ä–∞–∑—É. –°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞.
                                                        </p>
                                                    </div>
                                                );
                                            })()}
                                        </div>
                                    );
                                })()}

                                {/* Individual Analysis for Partner */}
                                {selectedItemsPartner.length > 0 && (() => {
                                    const worstPartner = getWorstCategory(selectedItemsPartner);
                                    return (
                                        <div>
                                            <div className="bg-white rounded-xl p-6 text-center shadow-lg border-2 border-pink-300">
                                                <p className="text-lg md:text-xl text-gray-700 font-semibold mb-2">
                                                    {balancePartner > 0 
                                                        ? 'üíï –¢–≤–æ–π –ø–∞—Ä—Ç–Ω—ë—Ä –≤–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è'
                                                        : balancePartner === 0
                                                        ? 'üòê –ü–∞—Ä—Ç–Ω—ë—Ä –Ω–∞ –Ω—É–ª–µ. –ü–æ–≥–æ–≤–æ—Ä–∏—Ç–µ –æ–± —ç—Ç–æ–º'
                                                        : 'üíî –ü–∞—Ä—Ç–Ω—ë—Ä —Ä–∞–∑—Ä—É—à–∞–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –ù—É–∂–µ–Ω —Å–µ—Ä—å—ë–∑–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä'
                                                    }
                                                </p>
                                            </div>
                                            
                                            {worstPartner.category && worstPartner.score < 0 && (() => {
                                                const recommendation = getCategoryRecommendation(worstPartner.category);
                                                return (
                                                    <div className="bg-orange-50 rounded-xl p-6 shadow-lg border-2 border-orange-300">
                                                        <h3 className="text-xl font-bold text-orange-800 mb-3">
                                                            üéØ –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–∞: {worstPartner.category}
                                                        </h3>
                                                        <p className="text-orange-700 font-semibold mb-2">
                                                            {worstPartner.count} {worstPartner.count === 1 ? '—Ä–∞–∑' : '—Ä–∞–∑–∞'} –∑–∞ –º–µ—Å—è—Ü | {worstPartner.score} –±–∞–ª–ª–æ–≤
                                                        </p>
                                                        <div className="bg-white rounded-lg p-4 mb-3">
                                                            <p className="text-gray-800 font-medium mb-2">
                                                                ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: {recommendation.problem}
                                                            </p>
                                                            <p className="text-gray-700">
                                                                ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å: {recommendation.solution}
                                                            </p>
                                                        </div>
                                                        <p className="text-sm text-orange-600 italic">
                                                            –ü–æ–∫–∞–∂–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—É —ç—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã. –û–±—Å—É–¥–∏—Ç–µ –≤–º–µ—Å—Ç–µ –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å.
                                                        </p>
                                                    </div>
                                                );
                                            })()}
                                        </div>
                                    );
                                })()}

                            </div>
                        )}

                        <div className="mt-8 bg-purple-100 rounded-xl p-5 md:p-6">
                            <p className="text-gray-700 text-sm md:text-base">
                                üí° <strong>–í–∞–∂–Ω–æ:</strong> –û–¥–Ω–æ –∫—Ä—É–ø–Ω–æ–µ —Å–Ω—è—Ç–∏–µ (-30) –Ω–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ—Ç—Å—è –æ–¥–Ω–∏–º –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º (+10). 
                                –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 3-5 –∏—Å–∫—Ä–µ–Ω–Ω–∏—Ö –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–π, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ —Å–µ—Ä—å—ë–∑–Ω–æ–≥–æ –∫–æ—Å—è–∫–∞.
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<EmotionalBankAccount />, document.getElementById('root'));
    </script>
</body>
</html>
